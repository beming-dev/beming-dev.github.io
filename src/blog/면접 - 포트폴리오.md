Spring 공부도 할 겸, WebSocket 기반의 API를 사용해서, 제가 관심있는 주식 시뮬레이션 서비스를 개발해보고 싶었습니다.

일단 먼저, 제가 운영하고 있는 백엔드가 외부 API와 WebSocket으로 통신하고, 그 데이터를 또 프론트에게 실시간으로 넘겨줄 수 있어야 했습니다. 그래서 이 부분에 대한 고민을 많이 했던것 같습니다.
제가 떠올린 방법은 백엔드와 프론트엔드 사이에 WebSocket 연결을 하나 더 열어서, 이 둘 사이에도 실시간 통신을 하는 것이었습니다. 이 과정에서 문제가 하나 더 있었는데, 여러 클라이언트에서 백엔드 서버에 같은 데이터에 종목에 대한 실시간 데이터를 요청하면 그만큼 백엔드에서 외부 API로의 웹소켓 연결이 생기는 문제였습니다.

즉, 10개의 클라이언트에서 삼성전자 종목의 데이터를 요청하면, 백엔드가 외부 API로의 연결을 10개나 만드는 문제였습니다.

이를 해결하기 위해, Spring의 event를 사용하는 것이었습니다.
먼저 특정 주식 종목에 대한 실시간 데이터 요청이 들어오면, 외부 API로의 웹소켓 연결을 하나 만듭니다. 이 때, 같은 키의 