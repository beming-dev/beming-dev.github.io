Kafka의 경우, topic에 pub 되는 메시지를 저장하지만, Redis는 pub 메시지를 저장하지 않는다. 그래서 Subscriber가 존재하지 않으면 메시지가 사라진다.
메시지 저장, 수신확인이 필요하지 않은 경우에 사용하면 좋다.

알고보니 전 Redis의 Pub/Sub을 사용하지 않았습니다.
Pub/Sub은 데이터를 따로 저장하지 않고, Pub에서 바로 Sub으로 보냅니다. 그래서 재전송등이 불가능하고, 전송 여부도 확인 불가능 합니다.

저는 Bull과 Redis를 사용했습니다.
Bull은 Redis 기반의 Job Q 라이브러리 입니다.
Bull에 의해, Redis가 메시지 큐 역할로 저장소 역할을 합니다.
이 구조에서는 재전송 등의 로직도 실행 가능합니다.

원래는 메시지큐의 Consumer역할도 분리해야, 서버의 부하를 줄이거나 원래 요청이 영향을 덜 받는 등 메시지 큐의 목적을 온전히 달성할 수 있습니다.
그러나 한정된 자원때문에 공부 차원에서 같은 서비스에서 Producer와 Consumer를 구성하여 사용해보았습니다.

현재 ELK를 사용하여 요청이 많이 들어오는 Route를 분석하였고, 이를 따로 분리하여 MSA 형태로 서비스를 운영하는걸 적용해보려 하고 있습니다. 이 과정에서 알림서버도 분리하여 운영해보겠습니다.