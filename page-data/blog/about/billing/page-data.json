{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/blog/about/billing/","result":{"data":{"markdownRemark":{"html":"<p>현재 About은 Heroku로 Frontend와 Backend모두 배포하고 있습니다.</p>\n<h1>Heroku</h1>\n<h2>Frontend</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABi0lEQVR42pVS2UrEQBDM//+CH6E+iAeIL6Ki6KvghaImm2ST2RxzH2XPJC4qHthQTE9nUlNdPVnbMrSsQzcMqBuG7YNTbO2fYHPvGA3rESOEgO9iOXjkzKHoHMreg4mAjEmOUSlIriAIVcWwWDQoigZSmpkQ4NpBGwdLq6XVGAvjAgFQJkBbygnZRnGGs/YRiimUJald9hCjhiRoaddqLq9v8fCUoypa1DVDUdbo+gFc8PWZ2EkmgyWFElXdIC8rvC5KVMs2HW7YCkrrdNgZQ6oMZOxmhpASSuk1oY+E6433CD58us05R/WQ8mRjwJzP+6k0eTzXM60NqTDp5ziEu8cc99TaS17jr3B0mYz+udlDWrNV16MfOHkhcPPwgp3Dc+weXeD06npuYxrKV8SIZMVqmnDEKk5ZSIVhFOSHxsglEauEmMf61DJ+xMdILVtLz0HbZL4gomEmjTYY+vYb2VfEy7PnuwbLoic1EZymOxKhxH/DOw9HArKmGtAznlRaKr4jqvsPLA3VOY83eGxX56WdcRAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20241223132945\"\n        title=\"\"\n        src=\"/static/3ba615688c5b9e71114d646f3c9199a9/5a190/20241223132945.png\"\n        srcset=\"/static/3ba615688c5b9e71114d646f3c9199a9/772e8/20241223132945.png 200w,\n/static/3ba615688c5b9e71114d646f3c9199a9/e17e5/20241223132945.png 400w,\n/static/3ba615688c5b9e71114d646f3c9199a9/5a190/20241223132945.png 800w,\n/static/3ba615688c5b9e71114d646f3c9199a9/ee455/20241223132945.png 863w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>대략적인 비용을 계산해보면 0.146 _ 24 _ 30 = 105.12. 즉 한달에 $105정도 청구되고 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA2klEQVR42oVQ7W7DIAzM+z/jpLXNl9ouTSBAAAPXg0XTtD9DOp1t7mxMZ4yFsQ6SEv47JWd4rSFRECr2HeIDIr0+BFh3oAsh/jRLklBKQWJecmnIKZ+1zI7kGJHZuJqF3izS9BWb2tHtxsO5iMrL6qC0h949DLHpg8aIEATu4OA6kIMNa0odUNRUHF74QsHja0U3TxvmUWEcNvSfC8bbiht5Yj5cyP2G+8T7fm26x8z4+sLl44mBPFwX3GcNaz2eL4Uun2v9Rmr8vWYW5ida/EfbwC+I/FO1W7wBuvWEraC6FjMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20241223133004\"\n        title=\"\"\n        src=\"/static/528e011b15c58ab0ff981db9889395c8/5a190/20241223133004.png\"\n        srcset=\"/static/528e011b15c58ab0ff981db9889395c8/772e8/20241223133004.png 200w,\n/static/528e011b15c58ab0ff981db9889395c8/e17e5/20241223133004.png 400w,\n/static/528e011b15c58ab0ff981db9889395c8/5a190/20241223133004.png 800w,\n/static/528e011b15c58ab0ff981db9889395c8/c1b63/20241223133004.png 1200w,\n/static/528e011b15c58ab0ff981db9889395c8/29007/20241223133004.png 1600w,\n/static/528e011b15c58ab0ff981db9889395c8/27f8b/20241223133004.png 1730w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n메모리 사용량을 보면 최대 1GB의 메모리를 사용중인데, 현재 최대 1.6GB를 사용하고 있어서 평균적으로 메모리 사용량을 넘고 있는걸 확인할 수 있다.</p>\n<h2>Backend</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB5ElEQVR42o2T2W4TQRBF55P5GD6EF8Qb5ikEobDIEKRxIkJsDBl7tt6m90tVjx0lIolS0pGn2+Nbyy1Xbduj60dIpbDeNniz+IjXbz/g/dk5ODIej1ZnbIeEP2MkEgaTUanoMFkHZz2EMKgvNqgvN1j/bpBzJoAYM/TkEUIqRCLFBGMjjKO7BFif4QIJvqpP0UiB7mbE0CuIXkMMCv0g4EMslTgf8OLlAqfLDUQnsG/o3U5i13YYhYQxhpLGUkAlpgmT99BaQ5sJir5U9Ozo7hg5ZZzVDbZ7ASklhKSkUt0ykCgnTfRetb74DknVyIHEqOWx0/RpS/stzZbHEai9RNk99eb8w1gXYG1AdVUvqdUeu/2APRnU7Fo0+w43TVva5jY8ZVfaUQd+Zpoxx/OBiQWfMLEYwoIpkRHxf/g+53Qwb6bieSltYCaLy6stPn+7wKflCj/Xf29FHwt2taPV4XXpCU1jr6TSYFjwvP6FdydfsTj5gh+r6/IjHvRc6X14QS0Jtor3L6HXCdJShZKqG+VcpVSmODge4PNDYveE7wQbVzlazlgWNpJTvLyhrIAldz095yd6vivMYpFmWl2vduh2AsMw0pLOVTHjqMp5Hn5+FvwvqoyyCD4c3DwyO3fM+hzSgX9+t/EscKtLcQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20241223133034\"\n        title=\"\"\n        src=\"/static/f74e373d4afba4fc4812c4e5b7f7edc5/5a190/20241223133034.png\"\n        srcset=\"/static/f74e373d4afba4fc4812c4e5b7f7edc5/772e8/20241223133034.png 200w,\n/static/f74e373d4afba4fc4812c4e5b7f7edc5/e17e5/20241223133034.png 400w,\n/static/f74e373d4afba4fc4812c4e5b7f7edc5/5a190/20241223133034.png 800w,\n/static/f74e373d4afba4fc4812c4e5b7f7edc5/39a20/20241223133034.png 859w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n대략적인 비용을 계산해보면 0.035 _ 24 _ 30 = 25.2. 즉 $25정도 청구되고 있는걸 확인할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAoElEQVR42q1P0Q4CIQzj/7/URON5dwMGA2rHoc8+SNKsK12XBYkJp0SYGX59qgUpK2o1ZHJrDVoqPCuokpwbjvOGUhLGABoNvfeJ1ryOqQ1+mrGyjzGjMNB119z32oWBTLYp2jXModavkBnUP9qYgX31XyxfZej9+UIQyRDhCakiThRuX5h86ewzq+Z6eZfHeaKWeeljOxB86z/gZ+9HxBs5tolkbxZKeQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20241223133059\"\n        title=\"\"\n        src=\"/static/72515e13d583eb1b03dce331fdd7182b/5a190/20241223133059.png\"\n        srcset=\"/static/72515e13d583eb1b03dce331fdd7182b/772e8/20241223133059.png 200w,\n/static/72515e13d583eb1b03dce331fdd7182b/e17e5/20241223133059.png 400w,\n/static/72515e13d583eb1b03dce331fdd7182b/5a190/20241223133059.png 800w,\n/static/72515e13d583eb1b03dce331fdd7182b/c1b63/20241223133059.png 1200w,\n/static/72515e13d583eb1b03dce331fdd7182b/29007/20241223133059.png 1600w,\n/static/72515e13d583eb1b03dce331fdd7182b/b8bf8/20241223133059.png 1728w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n백엔드는 최대 512 MB의 메모리를 사용할 수 있는데, 평균적으로 20% 정도의 메모리만 사용하고 있다.</p>\n<h2>총정리</h2>\n<h1>AWS EC2</h1>\n<h2>인스턴스</h2>\n<p>다음은 아시아 서울 지역에서 AWS EC2의 인스턴스별 시간당 요금이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABwElEQVR42nWUi7KDIAxE/f8vbYtgfaHVtlxOIIi9LTOOGJPNJhtopnkOwzAG1r7voW1tuN97+X69XmHbdtlP0xTGccw+bXg8HmKfY7zrOvn/fr9DM01zBLjLz+fzKc59nwBxwFYA45N8bEy0ZUAfvF8kOashq7VWgpVh3w/ynRhuhcmyLOJjDAwPexvjhyHFNBi67mBonQuz94UhACwfbeu6Job2YAg7F2MgJgxxBL0G9BWglkzguj6Sj3VhqxJRIS0pgNoznMmmIp0BfQVoi1hUQwuUhJRMxsIw7u+VKFoyflqyACrD2FdbkWjI4FxX2ACo/fgFaOIkFLFgGBP0uW0NstdjY4wpPa0BGa9lyYCmPY0NCUbtIY6MCo57zs6g6ticAfPYVION/Xq9hUFVppTL5SoqajmM0X/AqZpDUwBV5dvNyF5KJgP9AQC2XW7B50kB8LNkn1VGB5IVhlAHkJ/sPwH1pESTBJN4iSQgAkPVQVSmTGWIyt/OsqqMD4CAs3i709hEx1T/kgGtBP8CPC6H/QQIiXKWuWF469Hj+lJRPgHpkxy9qoeuikmiRIa8iyjdF1Ho4bp+FSWpfBOV/wAdVytblBGlLwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20241223134501\"\n        title=\"\"\n        src=\"/static/6a1e15544b2095789b78f89bedec7702/5a190/20241223134501.png\"\n        srcset=\"/static/6a1e15544b2095789b78f89bedec7702/772e8/20241223134501.png 200w,\n/static/6a1e15544b2095789b78f89bedec7702/e17e5/20241223134501.png 400w,\n/static/6a1e15544b2095789b78f89bedec7702/5a190/20241223134501.png 800w,\n/static/6a1e15544b2095789b78f89bedec7702/c1b63/20241223134501.png 1200w,\n/static/6a1e15544b2095789b78f89bedec7702/d93d9/20241223134501.png 1243w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>현재 백엔드는 110MB정도의 메모리만 사용하고, 프론트엔드는 1.6GB정도를 사용하고 있으므로 4GB 메모리의 인스턴스를 빌리면 앱을 충분히 배포할 수 있을 것으로 보인다.</p>\n<ul>\n<li>4GB메모리가 필요할 것으로 예상되므로, t4g.medium 인스턴스를 사용한다면 시간당 $0.0416가 청구된다.</li>\n</ul>\n<h2>Public IP V4 주소</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABSklEQVR42pWS6XLCMAyE/f6PSXOQO7EdQi5UfQIzpdM/zcyOVvKx3gXnvZc8z6XrWgkhyO12k3merd7vq2zbKsuyKL/Luq5PKKdfFNu2Gd/2XfhcjNEurOtartdKayVFUcjX5SLDMMocZ2HPrAJcjJD1L1FqBDGYkGNT13Vv9H3/iWGQXudt01rf9crbVgbloGma51z3cJfDwjRN4hXjONoi/TR56xOIgzk1+PAxS3PsO56M5SzLTa0sS7MMotpNWZ3nKedxyKGAH7/4rhnCHQcazQ8bXMjTyZNZioC1NK+r6mPeaBTpLK90BEszaFa2UDfvRcIPwUvvZ2nDapV/BWewB4hsh2vlpS7ooez1K1eqXigv1S4ClpeCS7Dv/ZODENMc0Wg54talLA7NIGUBUH+v/bHnZwXstwwZ8hoUoiqlXxBbj8dD/vt9A+jfAfcne0KGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20241223141541\"\n        title=\"\"\n        src=\"/static/167f6b219fb28e90028a0363ceb9bc26/5a190/20241223141541.png\"\n        srcset=\"/static/167f6b219fb28e90028a0363ceb9bc26/772e8/20241223141541.png 200w,\n/static/167f6b219fb28e90028a0363ceb9bc26/e17e5/20241223141541.png 400w,\n/static/167f6b219fb28e90028a0363ceb9bc26/5a190/20241223141541.png 800w,\n/static/167f6b219fb28e90028a0363ceb9bc26/c1b63/20241223141541.png 1200w,\n/static/167f6b219fb28e90028a0363ceb9bc26/29007/20241223141541.png 1600w,\n/static/167f6b219fb28e90028a0363ceb9bc26/28884/20241223141541.png 1755w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>프론트엔드와 백엔드 각각 Elastic IP를 한개씩 제공받는다면, 2 _ 0.005 _ 24 * 30 = 7.2. 즉 $7.2정도가 매달 청구될 것이다.</li>\n</ul>\n<h2>EBS 볼륨</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABI0lEQVR42n1SCXKDMBDj/z9M04ROwCaAbU5zmGNrLaUDaaae0eBD1kpmg3sY0j38oqqsqGlaRtd11LYtw9ptviwLYazrSv+NYJ5nJhVF6S9avog9YJom/h7FUGxfvxW8Xj8pimIqy/IkchQtioLP81yREJKeacoGjDE0jiNzABQMpExIKU1aG467ixxRVRUprTZhzD1fac3rcXRnwcvlg263uycpMp7gnPsjiIh4RziUUlLqHVprffHlxGNBVDFmAxy+isHxMAw+cvUbE3cw77r+lIgFQd7xzh324f7xiNidTBKKY8F4Zhn1fX8WFEJQ4klCJNwir2/YNA0DrhBZ+7fLspzXdV3zmXNHwZ+qeKPj392xtwjiQQiRIWx9+2Ac2wyC35MnuMgF44jfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20241223134956\"\n        title=\"\"\n        src=\"/static/69987f211cad643aec352f82abac963c/5a190/20241223134956.png\"\n        srcset=\"/static/69987f211cad643aec352f82abac963c/772e8/20241223134956.png 200w,\n/static/69987f211cad643aec352f82abac963c/e17e5/20241223134956.png 400w,\n/static/69987f211cad643aec352f82abac963c/5a190/20241223134956.png 800w,\n/static/69987f211cad643aec352f82abac963c/c1b63/20241223134956.png 1200w,\n/static/69987f211cad643aec352f82abac963c/29007/20241223134956.png 1600w,\n/static/69987f211cad643aec352f82abac963c/5f7fb/20241223134956.png 1889w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>t4g.medium 인스턴스는 EBS 볼륨을 따로 사용해야 하므로, EBS 볼륨의 범용 SSD storage를 100GB 사용한다면 한달에 $9가 청구된다.</li>\n</ul>\n<p>총 비용을 정리해보면 9 + 7.2 + (0.041 _ 24 _ 30) = 46.2. 약 $46정도의 비용이 청구될 것이다.</p>\n<p>여기에 추가적으로 데이터 송수신 비용이 GB당 최대 $0.1 정도 청구될 수 있는데, 동일 지역에서 발생하는 트래픽에는 청구되지 않는듯 하다. 이 부분은 실제 운영을 해봐야 가늠할 수 있을것 같다.</p>\n<h1>비용 비교</h1>\n<h2>Heroku</h2>\n<ul>\n<li>백엔드 $25/월</li>\n<li>프론트엔드 $105/월</li>\n</ul>\n<p>총 130$/월</p>\n<h2>AWS EC2</h2>\n<ul>\n<li>인스턴스 비용 $30/월</li>\n<li>Elastic IP $7.2/월</li>\n<li>SSD storage $9/월</li>\n</ul>\n<p>총 $46/월</p>\n<h1>결론</h1>\n<p>배포를 Heroku에서 AWS EC2로 옮긴다면 매월 $84. 환화로 약 122000원 정도를 매달 절약할 수 있다.</p>","frontmatter":{"date":"December 23, 2024","title":"About billing - heroku와 AWS ec2 비용 분석"},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#heroku\">Heroku</a></p>\n<ul>\n<li><a href=\"#frontend\">Frontend</a></li>\n<li><a href=\"#backend\">Backend</a></li>\n<li><a href=\"#%EC%B4%9D%EC%A0%95%EB%A6%AC\">총정리</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#aws-ec2\">AWS EC2</a></p>\n<ul>\n<li><a href=\"#%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4\">인스턴스</a></li>\n<li><a href=\"#public-ip-v4-%EC%A3%BC%EC%86%8C\">Public IP V4 주소</a></li>\n<li><a href=\"#ebs-%EB%B3%BC%EB%A5%A8\">EBS 볼륨</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B9%84%EC%9A%A9-%EB%B9%84%EA%B5%90\">비용 비교</a></p>\n<ul>\n<li><a href=\"#heroku-1\">Heroku</a></li>\n<li><a href=\"#aws-ec2-1\">AWS EC2</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B2%B0%EB%A1%A0\">결론</a></p>\n</li>\n</ul>"}},"pageContext":{"id":"9b974740-b522-5ca7-a6f8-a2944abaccc1","frontmatter__slug":"/blog/about/billing","__params":{"frontmatter__slug":"blog"}}},"staticQueryHashes":["2018336255","2540505676","2678393935","2810064759","3398502926"],"slicesMap":{}}